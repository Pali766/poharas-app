<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Poharas / Admin App - Belépés</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="container">
  <header>
    <h1>Üdv a Poharas/Admin alkalmazásban</h1>
    <p>Válaszd ki, hogy milyen szerepkörrel lépsz be:</p>
  </header>

  <section id="roleSelection">
    <div class="roleBox">
      <h2>Rendszergazda</h2>
      <input type="text" id="adminCode" placeholder="Add meg az admin kódod">
      <button id="adminBtn">Belépés</button>
      <p class="roleInfo">Pl. Admin2026/1</p>
    </div>
    <div class="roleBox">
      <h2>Poharas</h2>
      <input type="text" id="workerCode" placeholder="Add meg a poharas kódod">
      <button id="workerBtn">Belépés</button>
      <p class="roleInfo">P + vezeték+név első betű + születésnap</p>
    </div>
  </section>

  <div id="message"></div>
</div>

<script>
const adminCodes = {
  "Admin2026/1": "Peti",
  "Admin2026/2": "Anna"
};

function checkAdminCode(code){
  return adminCodes[code] || null;
}

function checkWorkerCode(code){
  // Példa: PAB12
  return /^P[a-zA-Z]{2}\d{1,2}$/.test(code);
}

const adminBtn = document.getElementById("adminBtn");
const workerBtn = document.getElementById("workerBtn");
const message = document.getElementById("message");
const adminInput = document.getElementById("adminCode");
const workerInput = document.getElementById("workerCode");

adminBtn.addEventListener("click", ()=>{
  const code = adminInput.value.trim();
  const name = checkAdminCode(code);
  if(name){
    alert(`Üdvözlünk, ${name}!`);
    window.location.href = "admin.html?name=" + encodeURIComponent(name);
  } else {
    message.textContent="Hibás admin kód!";
  }
});

workerBtn.addEventListener("click", ()=>{
  const code = workerInput.value.trim();
  if(checkWorkerCode(code)){
    alert(`Üdvözlünk, ${code.slice(1,3)}!`);
    window.location.href = "poharas.html?code=" + encodeURIComponent(code);
  } else {
    message.textContent="Hibás poharas kód!";
  }
});
</script>

</body>
</html>
